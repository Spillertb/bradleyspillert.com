---
import BaseLayout from '../layouts/BaseLayout.astro';

const experience = [
  {
    company: 'Lumafield',
    location: 'Cambridge, MA',
    role: 'Sr Software Engineer',
    period: 'Aug 2021 - Apr 2026',
    progression: 'Mechatronics Engineer → Embedded Software Engineer → Sr Software Engineer',
    description: 'Joined as the company\'s first mechatronics hire and grew into the technical lead for embedded software. Worked on both the Neptune and Triton X-ray CT scanner platforms from early prototype through full production. The job was everything from writing device drivers to standing up a manufacturing line.',
    details: [
      'Led embedded software development across two scanner platforms (Neptune and Triton) — from breadboard prototypes to shipping production units',
      'Wrote and maintained drivers and APIs for motion controllers, scientific X-ray cameras, high-voltage generators, and environmental sensors (Python, C/C++)',
      'Built image acquisition and processing pipelines that run the actual CT scans — frame capture, reconstruction preprocessing, and quality validation (OpenCV, NumPy)',
      'Developed STM32 firmware in C for custom control PCBs handling motor control, sensor I/O, and safety interlocks',
      'Designed networking and communication layers between embedded Linux hosts and microcontroller subsystems (serial, I2C, SPI, TCP)',
      'Helped establish the first manufacturing facility — wrote test fixtures, calibration procedures, and acceptance criteria for shipping scanners',
      'Shipped hundreds of production scanners representing over $100M in product value',
      'Hackathon project: built "Atlas on Neptune" — an MCP server that lets AI agents control a Lumafield scanner programmatically',
    ],
    tags: ['Python', 'C/C++', 'Linux', 'OpenCV', 'STM32', 'Embedded Systems', 'I2C/SPI/UART', 'PCB Bring-up'],
  },
  {
    company: 'Enel Green Power North America',
    location: 'Andover, MA',
    role: 'Instrumentation & Controls Engineer',
    period: 'May 2021 - Aug 2021',
    progression: '',
    description: 'Full-time I&C engineer on the Ranchland Wind + Battery Energy Storage System (BESS) project — a 1 GW hybrid renewable energy facility in Oklahoma. Responsible for SCADA configuration, control system integration, and commissioning support for one of the largest wind-storage hybrid projects in North America.',
    details: [
      'Configured and maintained SCADA systems for wind turbine arrays and lithium-ion battery storage systems',
      'Developed automated test scripts and data analysis tools in MATLAB for commissioning validation',
      'Managed instrumentation databases and control system documentation across the project lifecycle',
      'Coordinated with field teams during commissioning to troubleshoot sensor and communication issues',
    ],
    tags: ['SCADA', 'MATLAB', 'Wind Energy', 'Battery Storage', 'Controls', 'Commissioning'],
  },
  {
    company: 'Enel Green Power North America',
    location: 'Andover, MA',
    role: 'Electrical Engineering Intern',
    period: 'May 2019 - Aug 2019',
    progression: '',
    description: 'Summer internship on the Roadrunner Solar + BESS project in New Mexico. Got hands-on with utility-scale solar and battery storage controls — the kind of systems where a misconfigured relay can trip an entire substation.',
    details: [
      'Supported I&C engineering on a utility-scale solar photovoltaic and battery energy storage facility',
      'Assisted with SCADA point mapping, wiring diagrams, and instrumentation specifications',
      'Built MATLAB scripts to automate data extraction and reporting from historian databases',
      'First real exposure to industrial controls — learned the difference between lab projects and equipment that runs 24/7',
    ],
    tags: ['Solar', 'BESS', 'MATLAB', 'SCADA', 'Electrical Engineering'],
  },
];
---

<BaseLayout title="Experience - Bradley Spillert">
  <section class="pt-32 pb-20 px-6">
    <div class="max-w-4xl mx-auto">
      <h1 class="section-heading fade-in">Experience</h1>
      
      <div class="mb-8 fade-in">
        <a href="#" class="inline-flex items-center gap-2 px-5 py-2.5 bg-accent/10 border border-accent/30 rounded-lg text-sm text-accent hover:bg-accent/20 transition-all">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
          </svg>
          Download Resume (PDF coming soon)
        </a>
      </div>

      <!-- Timeline -->
      <div class="relative pl-8 md:pl-20">
        <div class="timeline-line"></div>
        
        {experience.map((job, i) => (
          <div class="relative mb-16 fade-in">
            <div class="timeline-dot top-2"></div>
            <div class="bg-surface-raised border border-gray-800 rounded-xl p-6 md:p-8">
              <div class="flex flex-col md:flex-row md:items-start md:justify-between gap-2 mb-4">
                <div>
                  <h3 class="text-white text-xl font-semibold">{job.company}</h3>
                  <p class="text-accent text-sm">{job.role}</p>
                  {job.progression && (
                    <p class="text-gray-500 text-xs mt-1">{job.progression}</p>
                  )}
                  {job.location && (
                    <p class="text-gray-600 text-xs mt-0.5">{job.location}</p>
                  )}
                </div>
                <span class="text-gray-500 text-sm whitespace-nowrap">{job.period}</span>
              </div>
              
              <p class="text-gray-400 leading-relaxed mb-4">{job.description}</p>
              
              <details class="group">
                <summary class="text-accent text-sm cursor-pointer hover:underline list-none flex items-center gap-1">
                  <svg class="w-4 h-4 transition-transform group-open:rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                  </svg>
                  More details
                </summary>
                <ul class="mt-4 space-y-2">
                  {job.details.map((detail) => (
                    <li class="text-gray-400 text-sm pl-4 border-l border-gray-800">{detail}</li>
                  ))}
                </ul>
              </details>

              <div class="flex flex-wrap gap-2 mt-4">
                {job.tags.map((tag) => (
                  <span class="px-2.5 py-1 bg-surface border border-gray-800 rounded text-xs text-gray-500">{tag}</span>
                ))}
              </div>
            </div>
          </div>
        ))}
      </div>

      <!-- Education -->
      <div class="relative pl-8 md:pl-20 fade-in">
        <div class="relative">
          <div class="timeline-dot top-2"></div>
          <div class="bg-surface-raised border border-gray-800 rounded-xl p-6 md:p-8">
            <div class="flex flex-col md:flex-row md:items-start md:justify-between gap-2 mb-4">
              <div>
                <h3 class="text-white text-xl font-semibold">UMass Amherst</h3>
                <p class="text-accent text-sm">BS Computer Engineering</p>
                <p class="text-gray-500 text-xs mt-1">Riccio College of Engineering</p>
              </div>
              <span class="text-gray-500 text-sm">Class of 2021</span>
            </div>
            <details class="group">
              <summary class="text-accent text-sm cursor-pointer hover:underline list-none flex items-center gap-1">
                <svg class="w-4 h-4 transition-transform group-open:rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
                Highlights
              </summary>
              <ul class="mt-4 space-y-2">
                <li class="text-gray-400 text-sm pl-4 border-l border-gray-800">Capstone: Gyro Glove — wearable gesture controller for RC aircraft with custom PCBs and IMU</li>
                <li class="text-gray-400 text-sm pl-4 border-l border-gray-800">HackUMass VIII — Won Best Hardware Hack with a 2-motor polar plotter</li>
                <li class="text-gray-400 text-sm pl-4 border-l border-gray-800">Pi Kappa Phi fraternity</li>
              </ul>
            </details>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
